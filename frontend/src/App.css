.container{ max-width:900px; margin:0 auto; }
.card{ background:var(--surface); padding:var(--gap-2); margin-bottom:var(--gap-2); border-radius:var(--radius); border:1px solid var(--border); box-shadow:none; display:flex; justify-content:space-between; align-items:center; }

nav{ background:var(--surface); padding:10px 15px; border-radius:var(--radius); margin-bottom:20px; border:1px solid var(--border); }
nav ul{ display:flex; gap:15px; padding:0; margin:0; list-style:none; }
nav ul li a{ color:var(--text); text-decoration:none; font-weight:500; transition:color .2s; }
nav ul li a:hover{ color:var(--primary); }
nav ul li a.active{ color:var(--primary); font-weight:700; }

form{ display:flex; gap:10px; align-items:center; }

.stop-row{ display:flex; justify-content:space-between; align-items:center; width:100%; }
.stop-location-link{ margin-left:8px; }
.stop-actions{ display:flex; gap:var(--gap-1); align-items:center; }

.stop-header{ display:grid; grid-template-columns:2fr 120px 120px 50px; padding:0 16px; font-weight:bold; margin-bottom:8px; }
.sortable-stop{ display:grid; grid-template-columns:2fr 120px 120px 50px; align-items:center; gap:12px; background:var(--surface); padding:8px 16px; border-radius:var(--radius); margin-bottom:8px; border:1px solid var(--border); }
.sortable-stop input[type="time"]{ width:100%; text-align:center; box-sizing:border-box; }

.styled-table{ width:100%; border-collapse:collapse; margin-bottom:1.5rem; }
.styled-table th,.styled-table td{ padding:10px; text-align:left; border:1px solid var(--border); }
.styled-table thead{ background:#eef2f8; color:#2b3441; font-weight:600; }
.styled-table tbody tr:nth-child(even){ background:#fbfcfd; }
.styled-table tbody tr:hover{ background:#f9fafb; }

.matrix-header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:16px;
  margin-bottom:12px;
}

.matrix-subtitle{
  margin:6px 0 0;
  color:var(--muted);
  font-size:13px;
}

.matrix-actions{
  display:flex;
  gap:8px;
}

.matrix-status{
  padding:10px 12px;
  border:1px solid var(--border);
  border-radius:var(--radius);
  margin-bottom:12px;
  background:var(--surface);
  font-size:14px;
}

.matrix-status--success{
  border-color:#bfe6cf;
  background:#eef9f3;
  color:#2d6c52;
}

.matrix-status--error{
  border-color:#f1b7b7;
  background:#fff1f1;
  color:#9d2c2c;
}

.price-matrix-wrapper{
  border:1px solid var(--border);
  border-radius:var(--radius);
  overflow:auto;
  background:var(--surface);
  max-height:600px;
}

.price-matrix{
  border-collapse:separate;
  border-spacing:0;
  width:max-content;
  min-width:100%;
}

.price-matrix th,
.price-matrix td{
  border:1px solid var(--border);
  padding:8px;
  text-align:center;
  background:var(--surface);
  min-width:110px;
  vertical-align:top;
}

.price-matrix__corner{
  position:sticky;
  top:0;
  left:0;
  z-index:4;
  background:#e2e8f4;
  text-align:left;
}

.price-matrix__col-header{
  position:sticky;
  top:0;
  z-index:3;
  background:#eef2f8;
  font-weight:600;
}

.price-matrix__row-header{
  position:sticky;
  left:0;
  z-index:2;
  background:#eef2f8;
  text-align:left;
  font-weight:600;
}

.price-matrix__cell{
  position:relative;
}

.price-matrix__cell--disabled{
  background:#f5f6f8;
  color:var(--muted);
}

.price-matrix__cell--dirty{
  box-shadow:inset 0 0 0 2px rgba(45, 108, 82, 0.25);
}

.price-matrix__cell--deleted{
  background:#fff5f5;
}

.price-matrix__cell--error{
  background:#fff1f1;
}

.price-matrix__input{
  width:100%;
  box-sizing:border-box;
  text-align:center;
  border-radius:6px;
  border:1px solid var(--border);
  padding:6px;
}

.price-matrix__cell--disabled .price-matrix__input{
  background:#f0f2f5;
  cursor:not-allowed;
}

.price-matrix__cell-status{
  display:block;
  margin-top:4px;
  font-size:11px;
  color:#b24b4b;
}

.price-matrix__cell-error{
  display:block;
  margin-top:4px;
  font-size:11px;
  color:#b24b4b;
}

.price-matrix__cell-currency{
  display:block;
  margin-top:4px;
  font-size:11px;
  color:var(--muted);
}

.modal-field{
  display:flex;
  flex-direction:column;
  gap:8px;
  font-size:14px;
}

.modal-actions{
  display:flex;
  gap:10px;
}

.modal-overlay{
  position:fixed;
  inset:0;
  background:rgba(24, 36, 74, 0.45);
  display:flex;
  justify-content:center;
  align-items:flex-start;
  padding:48px 16px;
  overflow-y:auto;
  z-index:1000;
}

.modal-sheet{
  background:var(--surface);
  border-radius:18px;
  box-shadow:var(--shadow-2);
  width:min(100%, 980px);
  padding:28px;
  display:flex;
  flex-direction:column;
  gap:24px;
  max-height:calc(100vh - 96px);
  overflow-y:auto;
}

.modal-sheet__header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
}

.modal-sheet__header h3{
  margin:0;
}

.modal-sheet__subtitle{
  margin:6px 0 0;
  color:var(--muted);
  font-size:13px;
}

.modal-section{
  display:flex;
  flex-direction:column;
  gap:16px;
}

.modal-section h4{
  margin:0;
  font-size:18px;
  color:#243045;
}
